<div class="background">
  
    <h1 style="color:white">{{ content }}</h1>   
  
<div class="centered par font title font">
<p class="par"></p>  
    <app-utility-tag (passoListaTag)="addItem($event)"> </app-utility-tag>
    <button class="button-search" (click)="listaAppuntiXTag()"><mat-icon style="color:white; padding-top:5px">search</mat-icon></button>  
<br>
<p style="color:white">{{msg}}</p>
<br>
<button style="background-color:white; color:black" *ngIf="tabellaTag==true" (click)="vediTutti()" class="btn button btn-secondary btn-lg button3"><mat-icon>view_list</mat-icon> Vedi tutti</button>


<div *ngIf="tabellaTag==false || appunti.length>0">
 
  <table mat-table [dataSource]="appunti" class="mat-elevation-z8">
  
    <ng-container matColumnDef="titolo">
      <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Titolo </th>
      <td style="text-align:center; padding: 5px;" mat-cell *matCellDef="let element" > {{element.titolo}} </td>
    </ng-container>


    <ng-container matColumnDef="sottotitolo">
      <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Sottotitolo </th>
      <td style="text-align:center; padding: 5px;" mat-cell *matCellDef="let element" > {{element.sottotitolo}} </td>
    </ng-container>


    <ng-container matColumnDef="testo">
      <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Testo </th>
      
      <td style="text-align:center; padding: 5px;" class="ellipsis" mat-cell *matCellDef="let element"> <button (click)="linkTesto(element.id)" class="btn button btn-secondary btn-lg button3">Visualizza Testo</button> </td>
    </ng-container>

    <ng-container matColumnDef="utenteCreazione">
      <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Utente </th>
      <td style="text-align:center; padding: 5px;" mat-cell *matCellDef="let element"> {{element.utenteCreazione}} </td>
    </ng-container>


    <ng-container matColumnDef="dataCreazione">
      <th style="text-align:center; padding: 5px;"mat-header-cell *matHeaderCellDef> Data </th>
      <td style="text-align:center; padding: 5px;" mat-cell *matCellDef="let element"> {{element.dataCreazione}} </td>
    </ng-container>


    <ng-container matColumnDef="tag">
      <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Tag </th>
      <td style="text-align:center; padding: 5px;" mat-cell *matCellDef="let element">
        <mat-chip-list style="text-align:inherit;" *ngFor="let x of element.listaTag" aria-label="Fish selection">
          <mat-chip  style="background-color: #008CBA; color:white" selected>
              {{x.name}}
          </mat-chip>
        </mat-chip-list>
      </td>
    </ng-container>

    <ng-container matColumnDef="opzioni">
    <th style="text-align:center; padding: 5px;" mat-header-cell *matHeaderCellDef> Opzioni </th>
    <td  *matCellDef="let element">
      <button (click)="cancellaAppunti(element.id)"  class="btn button btn-secondary btn-lg button3"><mat-icon>delete_forever</mat-icon> Cancella</button>
      <button (click)="modifica(element.id)"  class="btn button btn-secondary btn-lg button3"><mat-icon>create</mat-icon>  Modifica</button> 
      <button 
      *ngIf="element.pub==false" (click)="pubblica(element)"  class="btn button btn-secondary btn-lg button3"><mat-icon>lock_open</mat-icon>Pubblica
    </button>
      <button 
      *ngIf="element.pub==true" (click)="privato(element)"  class="btn button btn-secondary btn-lg button3">	<mat-icon>lock</mat-icon>Privato</button>
      
    </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>


<button  style="background-color:white; color:black" (click)="aggiungiAppunto()" routerLink="/appunti" class="btn button btn-secondary btn-lg button3">Crea Appunto</button>


</div>
