
<div class="container ">
  <header class="">
    <h1 class="display-4">{{ content }}</h1>   
  </header>
<div class="centered par font title font">
<p class="par"></p>

<table class="font">
  <td>
    Nome tag
  </td>
  <td>
    <input [(ngModel)]="nomeTag">
    <button class="font" (click)="listaAppuntiXTag()" class="btn button btn-secondary btn-lg button3"><mat-icon>search</mat-icon></button>
  </td>
  <td>
    <button *ngIf="tabellaTag==true" (click)="vediTutti()" class="btn button btn-secondary btn-lg button3"><mat-icon>view_list</mat-icon> Vedi tutti</button>
  </td>
</table>
{{msg}}
<br>


<div *ngIf="tabellaTag==false || appunti.length>0">
  <p>Lista Appunti</p>
  <table mat-table [dataSource]="appunti" class="mat-elevation-z8">
  
    <ng-container matColumnDef="titolo">
      <th mat-header-cell *matHeaderCellDef> Titolo </th>
      <td mat-cell *matCellDef="let element" class="wrap"> {{element.titolo}} </td>
    </ng-container>


    <ng-container matColumnDef="sottotitolo">
      <th mat-header-cell *matHeaderCellDef> Sottotitolo </th>
      <td mat-cell *matCellDef="let element" class="wrap"> {{element.sottotitolo}} </td>
    </ng-container>


    <ng-container matColumnDef="testo">
      <th mat-header-cell *matHeaderCellDef> Testo </th>
      
      <td class="ellipsis" mat-cell *matCellDef="let element"> <button (click)="linkTesto(element.id)" class="button2">Visualizza Testo</button> </td>
    </ng-container>

    <ng-container matColumnDef="utenteCreazione">
      <th mat-header-cell *matHeaderCellDef> Utente </th>
      <td mat-cell *matCellDef="let element"> {{element.utenteCreazione}} </td>
    </ng-container>


    <ng-container matColumnDef="dataCreazione">
      <th mat-header-cell *matHeaderCellDef> Data </th>
      <td mat-cell *matCellDef="let element"> {{element.dataCreazione}} </td>
    </ng-container>


    <ng-container matColumnDef="tag">
      <th mat-header-cell *matHeaderCellDef> Tag </th>
      <td mat-cell *matCellDef="let element">
        <mat-chip-list *ngFor="let x of element.listaTag" aria-label="Fish selection">
          <mat-chip color="primary" selected>
              {{x.name}}
          </mat-chip>
        </mat-chip-list>
      </td>
    </ng-container>

    <ng-container matColumnDef="opzioni">
    <th mat-header-cell *matHeaderCellDef> Opzioni </th>
    <td *matCellDef="let element">
      <button (click)="cancellaAppunti(element.id)"  class="btn button btn-secondary btn-lg button3"><mat-icon>delete_forever</mat-icon> Cancella</button>
      <button (click)="modifica(element.id)"  class="btn button btn-secondary btn-lg button3"><mat-icon>create</mat-icon>  Modifica</button> 
      <button 
      *ngIf="element.pub==false" (click)="pubblica(element)"  class="btn button btn-secondary btn-lg button3"><mat-icon>lock_open</mat-icon>Pubblica
    </button>
      <button 
      *ngIf="element.pub==true" (click)="privato(element)"  class="btn button btn-secondary btn-lg button3">	<mat-icon>lock</mat-icon>Privato</button>
      
    </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>


<button (click)="aggiungiAppunto()" routerLink="/appunti" class="btn btn-secondary btn-lg button3">Crea Appunto</button>



